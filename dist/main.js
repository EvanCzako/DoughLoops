!function(){var t={9670:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1318:function(t,e,n){var r=n(5656),i=n(7466),o=n(1400),u=function(t){return function(e,n,u){var a,s=r(e),c=i(s.length),l=o(u,c);if(t&&n!=n){for(;c>l;)if((a=s[l++])!=a)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},1194:function(t,e,n){var r=n(7293),i=n(5112),o=n(7392),u=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[u]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:function(t,e,n){var r=n(6656),i=n(3887),o=n(1236),u=n(3070);t.exports=function(t,e){for(var n=i(e),a=u.f,s=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,s(e,l))}}},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(4948),i=n(3070),o=n(9114);t.exports=function(t,e,n){var u=r(e);u in t?i.f(t,u,o(0,n)):t[u]=n}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,u=i(o)&&i(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),u=n(8113),a=o.process,s=o.Deno,c=a&&a.versions||s&&s.version,l=c&&c.v8;l?i=(r=l.split("."))[0]<4?1:r[0]+r[1]:u&&(!(r=u.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),u=n(1320),a=n(3505),s=n(9920),c=n(4705);t.exports=function(t,e){var n,l,f,p,v,h=t.target,d=t.global,m=t.stat;if(n=d?r:m?r[h]||a(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(v=i(n,l))&&v.value:n[l],!c(d?l:h+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;s(p,f)}(t.sham||f&&f.sham)&&o(p,"sham",!0),u(n,l,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},5005:function(t,e,n){var r=n(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t,e,n){var r=n(7908),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7293),i=n(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:function(t,e,n){var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var r,i,o,u=n(8536),a=n(7854),s=n(111),c=n(8880),l=n(6656),f=n(5465),p=n(6200),v=n(3501),h="Object already initialized",d=a.WeakMap;if(u||f.state){var m=f.state||(f.state=new d),y=m.get,b=m.has,g=m.set;r=function(t,e){if(b.call(m,t))throw new TypeError(h);return e.facade=t,g.call(m,t,e),e},i=function(t){return y.call(m,t)||{}},o=function(t){return b.call(m,t)}}else{var S=p("state");v[S]=!0,r=function(t,e){if(l(t,S))throw new TypeError(h);return e.facade=t,c(t,S,e),e},i=function(t){return l(t,S)?t[S]:{}},o=function(t){return l(t,S)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:function(t,e,n){var r=n(7293),i=/#|\.prototype\./,o=function(t,e){var n=a[u(t)];return n==c||n!=s&&("function"==typeof e?r(e):!!e)},u=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},s=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),i=n(3307);t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(2788),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(9670),u=n(4948),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=u(e),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(5296),o=n(9114),u=n(5656),a=n(4948),s=n(6656),c=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=u(t),e=a(e),c)try{return l(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,n){var r=n(6656),i=n(5656),o=n(1318).indexOf,u=n(3501);t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)!r(u,n)&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2140:function(t,e,n){var r=n(111);t.exports=function(t,e){var n,i;if("string"===e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if("string"!==e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(8006),o=n(5181),u=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=o.f;return n?e.concat(n(t)):e}},1320:function(t,e,n){var r=n(7854),i=n(8880),o=n(6656),u=n(3505),a=n(2788),s=n(9909),c=s.get,l=s.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var s,c=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,v=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(s=l(n)).source||(s.source=f.join("string"==typeof e?e:""))),t!==r?(c?!v&&t[e]&&(p=!0):delete t[e],p?t[e]=n:i(t,e,n)):p?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",u=r[o]||i(o,{});t.exports=u},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.1",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},1400:function(t,e,n){var r=n(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:function(t,e,n){var r=n(111),i=n(2190),o=n(2140),u=n(5112)("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,a=t[u];if(void 0!==a){if(void 0===e&&(e="default"),n=a.call(t,e),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:String(e)}},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(6656),u=n(9711),a=n(133),s=n(3307),c=i("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||u;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},7042:function(t,e,n){"use strict";var r=n(2109),i=n(111),o=n(3157),u=n(1400),a=n(7466),s=n(5656),c=n(6135),l=n(5112),f=n(1194)("slice"),p=l("species"),v=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,l,f=s(this),d=a(f.length),m=u(t,d),y=u(void 0===e?d:e,d);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(f,m,y);for(r=new(void 0===n?Array:n)(h(y-m,0)),l=0;m<y;m++,l++)m in f&&c(r,l,f[m]);return r.length=l,r}})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackPlaying=!1}var n,r;return n=e,(r=[{key:"stop",value:function(){this.trackPlaying&&(this.trackPlaying=!1,this.player.unHighlightAll())}},{key:"start",value:function(){this.trackPlaying||(this.trackPlaying=!0,this.player.resetLastTime(),this.player.resetStep())}},{key:"setPlayer",value:function(t){this.player=t}}])&&t(n.prototype,r),e}();function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(7042);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instrumentSeqs=document.querySelectorAll("#instrumentSeqs label div"),this.instrumentVols=document.querySelectorAll("#instrumentSeqs label input"),this.instrumentLabs=document.querySelectorAll("#instrumentSeqs > label"),this.master=e,this.lastTime=Date.now(),this.step=0}var e,n;return e=t,(n=[{key:"setBeatsInfo",value:function(t){this.beatsInfo=t}},{key:"resetLastTime",value:function(){var t=6e4/parseInt(this.beatsInfo.numSubDivs.value)/parseInt(this.beatsInfo.tempo.value);this.lastTime=Date.now()-t}},{key:"resetStep",value:function(){this.step=0}},{key:"playInstruments",value:function(){var t=6e4/parseInt(this.beatsInfo.numSubDivs.value)/parseInt(this.beatsInfo.tempo.value);if(this.master.trackPlaying){var e=Date.now();this.lastTime+t<e&&(this.playStep(this.step),this.step<parseInt(this.beatsInfo.numBeats.value)*parseInt(this.beatsInfo.numSubDivs.value)-1?this.step++:this.step=0,this.lastTime+=6e4/parseInt(this.beatsInfo.numSubDivs.value)/parseInt(this.beatsInfo.tempo.value))}}},{key:"playStep",value:function(t){for(var e=0;e<this.instrumentSeqs.length;e++){for(var n=this.instrumentSeqs[e].children,r=[],i=0;i<n.length;i++)r.push(n[i].children[0]);var o=r[t];if(this.instrumentLabs[e].children[3].children[t].classList.add("playing"),this.instrumentLabs[e].children[3].children[(this.beatsInfo.totalSteps+t-1)%this.beatsInfo.totalSteps].classList.remove("playing"),o.checked){var u=this.instrumentSeqs[e].id,a=u.slice(0,u.length-1),s=(u.slice(0,u.length-1),document.getElementById("".concat(a,"Selector"))),c=document.getElementById("".concat(s.value)),l=document.getElementById("masterVol"),f=document.getElementById("".concat(a,"Vol"));c.currentTime=0,c.volume=.01*l.value*(.01*f.value),c.play()}}}},{key:"unHighlightAll",value:function(){for(var t=0;t<this.instrumentLabs.length;t++)for(var e=this.instrumentLabs[t].children[3],n=0;n<e.children.length;n++)e.children[n].classList.remove("playing")}}])&&r(e.prototype,n),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.numBeats=document.getElementById("numBeats"),this.dispNumBeats=document.getElementById("dispNumBeats"),this.numSubDivs=document.getElementById("numSubDivs"),this.dispSubDivs=document.getElementById("dispSubDivs"),this.tempo=document.getElementById("tempo"),this.dispTempo=document.getElementById("dispTempo"),this.masterVol=document.getElementById("masterVol"),this.dispMasterVol=document.getElementById("dispMasterVol"),this.numBeats.addEventListener("input",this.updateBeats.bind(this)),this.numSubDivs.addEventListener("input",this.updateSubDivs.bind(this)),this.tempo.addEventListener("input",this.updateTempo.bind(this)),this.masterVol.addEventListener("input",this.updateMasterVolume.bind(this)),this.player=e,this.gridMaker=n,this.gridMaker.updateGrid.bind(this.gridMaker)(this.numBeats.value,this.numSubDivs.value),this.totalSteps=this.numBeats.value*this.numSubDivs.value}var e,n;return e=t,(n=[{key:"updateBeats",value:function(){this.dispNumBeats.innerHTML=this.numBeats.value,this.gridMaker.updateGrid.bind(this.gridMaker)(this.numBeats.value,this.numSubDivs.value),this.totalSteps=this.numBeats.value*this.numSubDivs.value}},{key:"updateSubDivs",value:function(){this.dispSubDivs.innerHTML=this.numSubDivs.value,this.gridMaker.updateGrid.bind(this.gridMaker)(this.numBeats.value,this.numSubDivs.value),this.totalSteps=this.numBeats.value*this.numSubDivs.value}},{key:"updateTempo",value:function(){this.dispTempo.innerHTML=this.tempo.value}},{key:"updateMasterVolume",value:function(){this.dispMasterVol.innerHTML=this.masterVol.value}},{key:"dispHelp",value:function(){document.getElementById("helpButton").classList.toggle("showHelp")}}])&&o(e.prototype,n),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instrumentSeqs=document.querySelectorAll("#instrumentSeqs label div")}var e,n;return e=t,(n=[{key:"updateGrid",value:function(t,e){for(var n=0;n<this.instrumentSeqs.length;n++){var r=this.instrumentSeqs[n];r.innerHTML="";for(var i=0;i<t;i++)for(var o=0;o<e;o++){var u=document.createElement("label");u.classList.add("container"),i%2==1&&u.classList.add("offBeat");var a=document.createElement("INPUT");a.setAttribute("type","checkbox");var s=document.createElement("span");s.classList.add("mark"),u.appendChild(a),u.appendChild(s),r.appendChild(u)}}}}])&&a(e.prototype,n),t}();document.addEventListener("DOMContentLoaded",(function(){var t=new s,n=new e,r=new i(n),o=new u(r,t);n.setPlayer(r),r.setBeatsInfo(o);var a=document.getElementById("stopButton"),c=document.getElementById("startButton"),l=document.getElementById("helpButton");a.addEventListener("click",n.stop.bind(n)),c.addEventListener("click",n.start.bind(n)),l.addEventListener("click",o.dispHelp.bind(o)),setInterval(r.playInstruments.bind(r),1)}))}()}();
//# sourceMappingURL=main.js.map